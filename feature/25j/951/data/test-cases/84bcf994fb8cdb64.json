{
  "uid" : "84bcf994fb8cdb64",
  "name" : "test_send_negative_sum_from_account_erc20",
  "fullName" : "integration.tests.basic.test_transfers.TestTransfer#test_send_negative_sum_from_account_erc20",
  "historyId" : "56f72685893e02235e13a169de712d39",
  "time" : {
    "start" : 1650553073123,
    "stop" : 1650553073356,
    "duration" : 233
  },
  "description" : "Send negative sum from account: ERC20",
  "descriptionHtml" : "<p>Send negative sum from account: ERC20</p>\n",
  "status" : "broken",
  "statusMessage" : "web3.exceptions.ValidationError: \nCould not identify the intended function with name `transfer`, positional argument(s) of type `(<class 'str'>, <class 'int'>)` and keyword argument(s) of type `{}`.\nFound 1 function(s) with the name `transfer`: ['transfer(address,uint256)']\nFunction invocation failed due to no matching argument types.",
  "statusTrace" : "self = <integration.tests.basic.test_transfers.TestTransfer object at 0x7f5dc900a880>\nerc20wrapper = (<web3._utils.datatypes.Contract object at 0x7f5dc9026160>, <eth_account.signers.local.LocalAccount object at 0x7f5dc8f90bb0>)\nprepare_accounts = None\n\n    def test_send_negative_sum_from_account_erc20(self, erc20wrapper, prepare_accounts):\n        \"\"\"Send negative sum from account: ERC20\"\"\"\n        amount = -1\n    \n        contract, spl_owner = erc20wrapper\n    \n        assert contract.functions.balanceOf(self.recipient_account.address).call() == 0\n    \n        with pytest.raises(ValidationError) as error_info:\n>           transfer_tx = self.web3_client.send_erc20(\n                spl_owner, self.recipient_account, amount, contract.address, abi=contract.abi\n            )\n\nintegration/tests/basic/test_transfers.py:155: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nutils/web3client.py:123: in send_erc20\n    transaction = contract.functions.transfer(to_addr, amount).buildTransaction(\n/opt/hostedtoolcache/Python/3.9.12/x64/lib/python3.9/site-packages/web3/contract.py:878: in __call__\n    clone._set_function_info()\n/opt/hostedtoolcache/Python/3.9.12/x64/lib/python3.9/site-packages/web3/contract.py:883: in _set_function_info\n    self.abi = find_matching_fn_abi(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nabi = [{'anonymous': False, 'inputs': [{'indexed': True, 'internalType': 'address', 'name': 'owner', 'type': 'address'}, {'i...Solana', 'outputs': [{'internalType': 'bool', 'name': '', 'type': 'bool'}], 'stateMutability': 'nonpayable', ...}, ...]\nabi_codec = <eth_abi.codec.ABICodec object at 0x7f5dc932b580>\nfn_identifier = 'transfer'\nargs = ('0xd3d4c554A66926c4c3d8b5dDCdfB1C4Fb434D86E', -1), kwargs = {}\n\n    def find_matching_fn_abi(\n        abi: ABI,\n        abi_codec: ABICodec,\n        fn_identifier: Optional[Union[str, Type[FallbackFn], Type[ReceiveFn]]] = None,\n        args: Optional[Sequence[Any]] = None,\n        kwargs: Optional[Any] = None,\n    ) -> ABIFunction:\n        args = args or tuple()\n        kwargs = kwargs or dict()\n        num_arguments = len(args) + len(kwargs)\n    \n        if fn_identifier is FallbackFn:\n            return get_fallback_func_abi(abi)\n    \n        if fn_identifier is ReceiveFn:\n            return get_receive_func_abi(abi)\n    \n        if not is_text(fn_identifier):\n            raise TypeError(\"Unsupported function identifier\")\n    \n        name_filter = functools.partial(filter_by_name, fn_identifier)\n        arg_count_filter = functools.partial(filter_by_argument_count, num_arguments)\n        encoding_filter = functools.partial(filter_by_encodability, abi_codec, args, kwargs)\n    \n        function_candidates = pipe(abi, name_filter, arg_count_filter, encoding_filter)\n    \n        if len(function_candidates) == 1:\n            return function_candidates[0]\n        else:\n            matching_identifiers = name_filter(abi)\n            matching_function_signatures = [abi_to_signature(func) for func in matching_identifiers]\n    \n            arg_count_matches = len(arg_count_filter(matching_identifiers))\n            encoding_matches = len(encoding_filter(matching_identifiers))\n    \n            if arg_count_matches == 0:\n                diagnosis = \"\\nFunction invocation failed due to improper number of arguments.\"\n            elif encoding_matches == 0:\n                diagnosis = \"\\nFunction invocation failed due to no matching argument types.\"\n            elif encoding_matches > 1:\n                diagnosis = (\n                    \"\\nAmbiguous argument encoding. \"\n                    \"Provided arguments can be encoded to multiple functions matching this call.\"\n                )\n    \n            message = (\n                \"\\nCould not identify the intended function with name `{name}`, \"\n                \"positional argument(s) of type `{arg_types}` and \"\n                \"keyword argument(s) of type `{kwarg_types}`.\"\n                \"\\nFound {num_candidates} function(s) with the name `{name}`: {candidates}\"\n                \"{diagnosis}\"\n            ).format(\n                name=fn_identifier,\n                arg_types=tuple(map(type, args)),\n                kwarg_types=valmap(type, kwargs),\n                num_candidates=len(matching_identifiers),\n                candidates=matching_function_signatures,\n                diagnosis=diagnosis,\n            )\n    \n>           raise ValidationError(message)\nE           web3.exceptions.ValidationError: \nE           Could not identify the intended function with name `transfer`, positional argument(s) of type `(<class 'str'>, <class 'int'>)` and keyword argument(s) of type `{}`.\nE           Found 1 function(s) with the name `transfer`: ['transfer(address,uint256)']\nE           Function invocation failed due to no matching argument types.\n\n/opt/hostedtoolcache/Python/3.9.12/x64/lib/python3.9/site-packages/web3/_utils/contracts.py:163: ValidationError",
  "flaky" : false,
  "newFailed" : false,
  "newBroken" : true,
  "newPassed" : false,
  "retriesCount" : 0,
  "retriesStatusChange" : false,
  "beforeStages" : [ {
    "name" : "web3_client",
    "time" : {
      "start" : 1650552786236,
      "stop" : 1650552786238,
      "duration" : 2
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "pytestconfig",
    "time" : {
      "start" : 1650552786236,
      "stop" : 1650552786236,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "allure_environment",
    "time" : {
      "start" : 1650552786238,
      "stop" : 1650552786829,
      "duration" : 591
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "jsonrpc_requester",
    "time" : {
      "start" : 1650552786829,
      "stop" : 1650552786830,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "faucet",
    "time" : {
      "start" : 1650552786829,
      "stop" : 1650552786829,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "operator",
    "time" : {
      "start" : 1650552786830,
      "stop" : 1650552786830,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "sol_client",
    "time" : {
      "start" : 1650552786830,
      "stop" : 1650552786830,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "erc20wrapper",
    "time" : {
      "start" : 1650552847936,
      "stop" : 1650552926687,
      "duration" : 78751
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "prepare_account",
    "time" : {
      "start" : 1650553038072,
      "stop" : 1650553043231,
      "duration" : 5159
    },
    "status" : "passed",
    "steps" : [ {
      "name" : "Create account for tests",
      "time" : {
        "start" : 1650553038072,
        "stop" : 1650553038076,
        "duration" : 4
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Request 1000 NEON from faucet for 0xb7fcE56C4AF2fE957479dF92eE24AED42a73f27a",
      "time" : {
        "start" : 1650553038076,
        "stop" : 1650553038791,
        "duration" : 715
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Operator initial balance: 0.007700215180597663519008 NEON 60968.95844892 SOL",
      "time" : {
        "start" : 1650553043231,
        "stop" : 1650553043231,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 3,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  }, {
    "name" : "prepare",
    "time" : {
      "start" : 1650553071886,
      "stop" : 1650553071886,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "prepare_accounts",
    "time" : {
      "start" : 1650553071886,
      "stop" : 1650553073121,
      "duration" : 1235
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "prepare_json_rpc_requester",
    "time" : {
      "start" : 1650553071886,
      "stop" : 1650553071886,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "prepare_account",
    "time" : {
      "start" : 1650553071886,
      "stop" : 1650553071886,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "afterStages" : [ {
    "name" : "prepare_accounts::0",
    "time" : {
      "start" : 1650553073415,
      "stop" : 1650553073415,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "prepare_account::0",
    "time" : {
      "start" : 1650553077828,
      "stop" : 1650553082258,
      "duration" : 4430
    },
    "status" : "passed",
    "steps" : [ {
      "name" : "Operator end balance: 0.007700216282699987580768 NEON 60968.91255152 SOL",
      "time" : {
        "start" : 1650553082158,
        "stop" : 1650553082158,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "Account end balance: 1000 NEON",
      "time" : {
        "start" : 1650553082258,
        "stop" : 1650553082258,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 2,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : true
  }, {
    "name" : "erc20wrapper::0",
    "time" : {
      "start" : 1650553108887,
      "stop" : 1650553108887,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "allure_environment::0",
    "time" : {
      "start" : 1650553108894,
      "stop" : 1650553108894,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "labels" : [ {
    "name" : "story",
    "value" : "Basic: transfer tests"
  }, {
    "name" : "parentSuite",
    "value" : "integration.tests.basic"
  }, {
    "name" : "suite",
    "value" : "test_transfers"
  }, {
    "name" : "subSuite",
    "value" : "TestTransfer"
  }, {
    "name" : "host",
    "value" : "fv-az132-410"
  }, {
    "name" : "thread",
    "value" : "1816-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "integration.tests.basic.test_transfers"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Test defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 6,
        "broken" : 1,
        "skipped" : 0,
        "passed" : 0,
        "unknown" : 0,
        "total" : 7
      },
      "items" : [ {
        "uid" : "e5d145a97c42771",
        "reportUrl" : "https://apetrovskiy.github.io/neon-tests/feature/25j/949//#testresult/e5d145a97c42771",
        "status" : "failed",
        "statusDetails" : "AssertionError: assert 1 == 2",
        "time" : {
          "start" : 1650549504360,
          "stop" : 1650549504360,
          "duration" : 0
        }
      }, {
        "uid" : "51135ccf0b06054b",
        "reportUrl" : "https://apetrovskiy.github.io/neon-tests/feature/25j/947//#testresult/51135ccf0b06054b",
        "status" : "failed",
        "statusDetails" : "AssertionError: assert 1 == 2",
        "time" : {
          "start" : 1650546180308,
          "stop" : 1650546180308,
          "duration" : 0
        }
      }, {
        "uid" : "abe9a09a12c2a816",
        "reportUrl" : "https://apetrovskiy.github.io/neon-tests/feature/25j/945//#testresult/abe9a09a12c2a816",
        "status" : "failed",
        "statusDetails" : "AssertionError: assert 1 == 2",
        "time" : {
          "start" : 1650545422234,
          "stop" : 1650545422234,
          "duration" : 0
        }
      }, {
        "uid" : "6dcbb342d2020328",
        "reportUrl" : "https://apetrovskiy.github.io/neon-tests/feature/25j/943//#testresult/6dcbb342d2020328",
        "status" : "failed",
        "statusDetails" : "AssertionError: assert 1 == 2",
        "time" : {
          "start" : 1650545205196,
          "stop" : 1650545205196,
          "duration" : 0
        }
      }, {
        "uid" : "1d906f6aa905ef74",
        "reportUrl" : "https://apetrovskiy.github.io/neon-tests/feature/25j/941//#testresult/1d906f6aa905ef74",
        "status" : "failed",
        "statusDetails" : "AssertionError: assert 1 == 2",
        "time" : {
          "start" : 1650540446180,
          "stop" : 1650540446180,
          "duration" : 0
        }
      }, {
        "uid" : "bb7c45edd8e62187",
        "reportUrl" : "https://apetrovskiy.github.io/neon-tests/feature/25j/939//#testresult/bb7c45edd8e62187",
        "status" : "failed",
        "statusDetails" : "AssertionError: assert 1 == 2",
        "time" : {
          "start" : 1650539469438,
          "stop" : 1650539469439,
          "duration" : 1
        }
      } ]
    },
    "tags" : [ ]
  },
  "source" : "84bcf994fb8cdb64.json",
  "parameterValues" : [ ]
}